{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/customer.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nfunction CustomerComponent_button_9_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 8);\n    i0.ɵɵlistener(\"click\", function CustomerComponent_button_9_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.cancelEdit());\n    });\n    i0.ɵɵtext(1, \"Cancel\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CustomerComponent_tr_25_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\")(10, \"button\", 9);\n    i0.ɵɵlistener(\"click\", function CustomerComponent_tr_25_Template_button_click_10_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r7);\n      const i_r5 = restoredCtx.index;\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.editCustomer(i_r5));\n    });\n    i0.ɵɵtext(11, \"Edit\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"button\", 9);\n    i0.ɵɵlistener(\"click\", function CustomerComponent_tr_25_Template_button_click_12_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r7);\n      const i_r5 = restoredCtx.index;\n      const ctx_r8 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r8.deleteCustomer(i_r5));\n    });\n    i0.ɵɵtext(13, \"Delete\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const cust_r4 = ctx.$implicit;\n    const i_r5 = ctx.index;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i_r5 + 1);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(cust_r4.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(cust_r4.email);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(cust_r4.phone);\n  }\n}\nexport let CustomerComponent = /*#__PURE__*/(() => {\n  class CustomerComponent {\n    customerService;\n    customers = [];\n    customer = {\n      id: null,\n      name: '',\n      email: '',\n      phone: ''\n    };\n    editingIndex = null;\n    constructor(customerService) {\n      this.customerService = customerService;\n    }\n    ngOnInit() {\n      this.loadCustomers();\n    }\n    loadCustomers() {\n      this.customerService.getAllCustomers().subscribe(data => {\n        this.customers = data;\n      });\n    }\n    onSubmit() {\n      if (this.editingIndex !== null) {\n        this.customerService.updateCustomer(this.customer.id, this.customer).subscribe(() => {\n          this.loadCustomers();\n          this.cancelEdit();\n        });\n      } else {\n        this.customerService.addCustomer(this.customer).subscribe(() => {\n          this.loadCustomers();\n          this.resetForm();\n        });\n      }\n    }\n    editCustomer(index) {\n      this.customer = {\n        ...this.customers[index]\n      };\n      this.editingIndex = index;\n    }\n    deleteCustomer(index) {\n      const id = this.customers[index].id;\n      this.customerService.deleteCustomer(id).subscribe(() => {\n        this.loadCustomers();\n        this.cancelEdit();\n      });\n    }\n    cancelEdit() {\n      this.editingIndex = null;\n      this.resetForm();\n    }\n    resetForm() {\n      this.customer = {\n        id: null,\n        name: '',\n        email: '',\n        phone: ''\n      };\n    }\n    static ɵfac = function CustomerComponent_Factory(t) {\n      return new (t || CustomerComponent)(i0.ɵɵdirectiveInject(i1.CustomerService));\n    };\n    static ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: CustomerComponent,\n      selectors: [[\"app-customer\"]],\n      decls: 26,\n      vars: 6,\n      consts: [[1, \"customer-container\"], [3, \"ngSubmit\"], [\"type\", \"text\", \"name\", \"name\", \"required\", \"\", \"placeholder\", \"Name\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"email\", \"name\", \"email\", \"required\", \"\", \"placeholder\", \"Email\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"text\", \"name\", \"phone\", \"required\", \"\", \"placeholder\", \"Phone\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"submit\"], [\"type\", \"button\", 3, \"click\", 4, \"ngIf\"], [4, \"ngFor\", \"ngForOf\"], [\"type\", \"button\", 3, \"click\"], [3, \"click\"]],\n      template: function CustomerComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"h2\");\n          i0.ɵɵtext(2, \"Customer Management\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(3, \"form\", 1);\n          i0.ɵɵlistener(\"ngSubmit\", function CustomerComponent_Template_form_ngSubmit_3_listener() {\n            return ctx.onSubmit();\n          });\n          i0.ɵɵelementStart(4, \"input\", 2);\n          i0.ɵɵlistener(\"ngModelChange\", function CustomerComponent_Template_input_ngModelChange_4_listener($event) {\n            return ctx.customer.name = $event;\n          });\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(5, \"input\", 3);\n          i0.ɵɵlistener(\"ngModelChange\", function CustomerComponent_Template_input_ngModelChange_5_listener($event) {\n            return ctx.customer.email = $event;\n          });\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(6, \"input\", 4);\n          i0.ɵɵlistener(\"ngModelChange\", function CustomerComponent_Template_input_ngModelChange_6_listener($event) {\n            return ctx.customer.phone = $event;\n          });\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(7, \"button\", 5);\n          i0.ɵɵtext(8);\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(9, CustomerComponent_button_9_Template, 2, 0, \"button\", 6);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(10, \"hr\");\n          i0.ɵɵelementStart(11, \"table\")(12, \"thead\")(13, \"tr\")(14, \"th\");\n          i0.ɵɵtext(15, \"#\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(16, \"th\");\n          i0.ɵɵtext(17, \"Name\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(18, \"th\");\n          i0.ɵɵtext(19, \"Email\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(20, \"th\");\n          i0.ɵɵtext(21, \"Phone\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(22, \"th\");\n          i0.ɵɵtext(23, \"Actions\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(24, \"tbody\");\n          i0.ɵɵtemplate(25, CustomerComponent_tr_25_Template, 14, 4, \"tr\", 7);\n          i0.ɵɵelementEnd()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"ngModel\", ctx.customer.name);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngModel\", ctx.customer.email);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngModel\", ctx.customer.phone);\n          i0.ɵɵadvance(2);\n          i0.ɵɵtextInterpolate(ctx.editingIndex !== null ? \"Update\" : \"Add\");\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.editingIndex !== null);\n          i0.ɵɵadvance(16);\n          i0.ɵɵproperty(\"ngForOf\", ctx.customers);\n        }\n      },\n      dependencies: [i2.NgForOf, i2.NgIf, i3.ɵNgNoValidate, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.RequiredValidator, i3.NgModel, i3.NgForm],\n      styles: [\".customer-container[_ngcontent-%COMP%]{max-width:500px;margin:50px auto;padding:20px;background:#ffffff;border-radius:10px;box-shadow:0 4px 20px #0000001a}.customer-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px}.customer-form[_ngcontent-%COMP%]{display:flex;flex-direction:column}.customer-form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:600;margin-top:10px}.customer-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:8px;margin-top:5px;border:1px solid #ccc;border-radius:5px}.customer-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:15px;padding:10px;background-color:#1976d2;color:#fff;border:none;border-radius:5px;cursor:pointer}.customer-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#1565c0}.customer-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] + button[_ngcontent-%COMP%]{margin-left:10px;background-color:#9e9e9e}.customer-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] + button[_ngcontent-%COMP%]:hover{background-color:#757575}.customer-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin-top:30px}.customer-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .customer-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid #ddd;padding:10px;text-align:center}.customer-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#1976d2;color:#fff}.customer-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#f9f9f9}.customer-table[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:6px 12px;margin:2px;font-size:.9rem;border:none;border-radius:4px;cursor:pointer;color:#fff}.customer-table[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child{background-color:#0288d1}.customer-table[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child:hover{background-color:#0277bd}.customer-table[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{background-color:#d32f2f}.customer-table[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child:hover{background-color:#c62828}\"]\n    });\n  }\n  return CustomerComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}